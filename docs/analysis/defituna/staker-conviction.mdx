---
title: Staker Conviction
---

import BrowserOnly from '@docusaurus/BrowserOnly';
import LoadingSpinner from '@site/src/components/common/LoadingSpinner';

# Staker Conviction

Understanding protocol loyalty through reward behavior analysis.

Stakers can choose to **compound** their rewards (reinvesting back into TUNA) or **claim** them (taking profits). This analysis examines stakers who actively managed their rewards (claimed or compounded) during the analysis period.

{/* Note: Statistics below are populated dynamically from the data pipeline */}

<BrowserOnly fallback={<LoadingSpinner />}>
  {() => {
    const { useStakerLoyalty } = require('@site/src/hooks/useStakerLoyalty');
    const {
      LoyaltyStats,
      BehaviorPieChart,
      InverseWhaleChart,
      WeeklyTrendsChart,
      BehaviorSegmentsTable,
      StakeDistributionHistogram,
      CompoundVsStakeScatter,
    } = require('@site/src/components/Loyalty');

    function StakerConvictionPage() {
      const { data, loading, error } = useStakerLoyalty();

      if (loading) {
        return <LoadingSpinner />;
      }

      if (error || !data) {
        return (
          <div className="alert alert--danger" role="alert">
            <strong>Could not load staker loyalty data.</strong> {error || 'Unknown error'}
          </div>
        );
      }

      const { summary, user_segments, weekly_trends, date_range, visualizations } = data;

      return (
        <>
          <div className="alert alert--info" role="alert" style={{ marginBottom: '24px' }}>
            <h4 style={{ marginTop: 0 }}>Data Scope</h4>
            <p style={{ marginBottom: 0 }}>
              This analysis examines <strong>{summary.total_users.toLocaleString()} stakers who actively managed their rewards</strong> (claimed or compounded) between{' '}
              <strong>{date_range.start}</strong> and <strong>{date_range.end}</strong>.
              {data.context && (
                <>
                  {' '}Out of <strong>{data.context.total_stakers_ever?.toLocaleString() || 'N/A'} total unique stakers</strong> (ever staked since July 25 launch),{' '}
                  <strong>{data.context.current_active_stakers?.toLocaleString() || 'N/A'} currently hold active stakes</strong>.
                  This represents{' '}
                  <strong>
                    {data.context.total_stakers_ever
                      ? ((summary.total_users / data.context.total_stakers_ever) * 100).toFixed(1)
                      : 'N/A'}%
                  </strong> of all stakers and{' '}
                  <strong>
                    {data.context.current_active_stakers
                      ? ((summary.total_users / data.context.current_active_stakers) * 100).toFixed(1)
                      : 'N/A'}%
                  </strong> of current active stakers.
                </>
              )}
            </p>
          </div>

          {visualizations?.compound_vs_stake && (
            <div className="alert alert--warning" role="alert" style={{ marginBottom: '24px' }}>
              <h4 style={{ marginTop: 0 }}>Stake Size Visualization Scope</h4>
              <p style={{ marginBottom: 0 }}>
                The stake distribution and scatter plot visualizations are based on a subset of users with both position data and reward activity{' '}
                (<strong>{visualizations.compound_vs_stake.length} wallets</strong>). This represents users who have both staking positions AND have claimed/compounded rewards.
                More comprehensive per-user position tracking is in development to include all current active stakers.
              </p>
            </div>
          )}

          <LoyaltyStats summary={summary} />

          <BehaviorPieChart userSegments={user_segments} totalUsers={summary.total_users} />

          {visualizations && <StakeDistributionHistogram visualizations={visualizations} />}

          <InverseWhaleChart userSegments={user_segments} />

          {visualizations && <CompoundVsStakeScatter visualizations={visualizations} />}

          <WeeklyTrendsChart weeklyTrends={weekly_trends} />

          <BehaviorSegmentsTable userSegments={user_segments} totalUsers={summary.total_users} />

          <details>
            <summary>
              <strong>Methodology</strong>
            </summary>
            <div style={{ padding: '16px 0' }}>
              <h4>How Metrics Are Calculated</h4>

              <p>
                <strong>Loyalty Score</strong>: Percentage of users who have only compounded rewards
                (never claimed).
              </p>

              <p>
                <strong>Reinvestment Rate</strong>: Percentage of total rewards that were compounded
                rather than claimed, calculated as:
              </p>
              <pre style={{ background: 'var(--ifm-color-emphasis-100)', padding: '12px', borderRadius: '4px' }}>
                Reinvestment Rate = (Total Compounded SOL / Total Rewards SOL) Ã— 100
              </pre>

              <p>
                <strong>User Behavior Segments</strong>:
              </p>
              <ul>
                <li>
                  <strong>Compound-only</strong>: Users who have never executed a ClaimReward transaction
                </li>
                <li>
                  <strong>Claim-only</strong>: Users who have never executed a CompoundReward transaction
                </li>
                <li>
                  <strong>Mixed</strong>: Users who have executed both ClaimReward and CompoundReward
                  transactions
                </li>
              </ul>

              <p>
                <strong>Reward Size Tiers</strong>: Users are segmented based on their total rewards
                earned (compounded + claimed) during the analysis period:
              </p>
              <ul>
                <li>Small: &lt;0.1 SOL</li>
                <li>Medium: 0.1-1 SOL</li>
                <li>Large: 1-10 SOL</li>
                <li>Whales: &gt;10 SOL</li>
              </ul>

              <h4>Data Source</h4>

              <p>
                Analysis is based on on-chain transaction data from the DefiTuna staking program,
                covering the period from <strong>{date_range.start}</strong> to{' '}
                <strong>{date_range.end}</strong>.
              </p>

              <p>
                Reward amounts are extracted from transaction logs (ClaimReward and CompoundReward
                instructions) and tracked per unique wallet address (fee payer). The data is updated as
                part of the daily analytics pipeline.
              </p>

              <h4>Staker Population Context</h4>

              {data.context ? (
                <>
                  <p>
                    <strong>Total Stakers Ever</strong>:{' '}
                    {data.context.total_stakers_ever?.toLocaleString() || 'N/A'} unique wallets have staked
                    since the July 25, 2025 public sale.
                  </p>

                  <p>
                    <strong>Current Active Stakers</strong>:{' '}
                    {data.context.current_active_stakers?.toLocaleString() || 'N/A'} wallets currently hold
                    non-zero staking balances
                    {data.context.snapshot_date && ` (as of ${data.context.snapshot_date})`}.
                    {data.context.total_stakers_ever && data.context.current_active_stakers && (
                      <>
                        {' '}This represents{' '}
                        {((data.context.current_active_stakers / data.context.total_stakers_ever) * 100).toFixed(1)}%
                        retention from the initial cohort.
                      </>
                    )}
                  </p>

                  <p>
                    <strong>Reward Active Stakers</strong>: {summary.total_users.toLocaleString()} wallets
                    {data.context.total_stakers_ever && (
                      <>
                        {' '}(
                        {((summary.total_users / data.context.total_stakers_ever) * 100).toFixed(1)}% of total
                      </>
                    )}
                    {data.context.current_active_stakers && (
                      <>
                        , {((summary.total_users / data.context.current_active_stakers) * 100).toFixed(1)}% of
                        current active)
                      </>
                    )}
                    {' '}have claimed or compounded rewards during the analysis period.
                  </p>
                </>
              ) : (
                <p>
                  <strong>Reward Active Stakers</strong>: {summary.total_users.toLocaleString()} wallets have
                  claimed or compounded rewards during the analysis period.
                </p>
              )}
            </div>
          </details>
        </>
      );
    }

    return <StakerConvictionPage />;
  }}
</BrowserOnly>
