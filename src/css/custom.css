/**
 * karstenalytics Custom Theme
 * Teal accent color: #00A3B4
 * Design features: 56px header and 290px sidebar
 */

/* Import Inter and JetBrains Mono fonts */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap');

/* Import search dropdown fix */
@import './search-dropdown-fix.css';

:root {
  /* Teal accent colors */
  --accent: #00A3B4;
  --accent-hover: #14BCCD;
  --accent-transparent: rgba(0, 163, 180, 0.2);

  /* Light mode colors */
  --ifm-color-primary: #00A3B4;
  --ifm-color-primary-dark: #009099;
  --ifm-color-primary-darker: #00858c;
  --ifm-color-primary-darkest: #006d73;
  --ifm-color-primary-light: #14BCCD;
  --ifm-color-primary-lighter: #28c6d7;
  --ifm-color-primary-lightest: #51d4e2;

  --ifm-background-color: #FFFFFF;
  --ifm-background-surface-color: #FFFFFF;
  --ifm-navbar-solid-color: #FFFFFF; /* Navbar base color for light mode */
  --navbar-rgb: 255, 255, 255; /* RGB values for navbar color (light mode) */
  --ifm-font-color-base: #111111;
  --ifm-color-secondary: #4F5964;
  --sidebar-link-color: #5f6b77;
  --sidebar-content-gap: 60px;
  --ifm-toc-border-color: #E1E7EE;
  --ifm-hr-background-color: #E1E7EE;

  /* Typography */
  --ifm-font-family-base: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;
  --ifm-font-family-monospace: 'JetBrains Mono', ui-monospace, SFMono-Regular, Menlo, Consolas, 'Liberation Mono', monospace;
  --ifm-font-size-base: 16px;
  --ifm-line-height-base: 1.65;
  --ifm-heading-font-weight: 600;
  --ifm-font-weight-semibold: 600;
  --ifm-font-weight-bold: 700;

  /* Headings */
  --ifm-h1-font-size: 30px;
  --ifm-h2-font-size: 24px;
  --ifm-h3-font-size: 19px;
  --ifm-h4-font-size: 16px;

  /* Layout dimensions */
  --ifm-navbar-height: 56px;
  --doc-sidebar-width: 290px !important;
  --ifm-global-radius: 12px;
  --ifm-code-border-radius: 6px;

  /* Sticky position offsets */
  --sidebar-sticky-top: calc(var(--ifm-navbar-height) + 34px); /* 56px + 34px = 90px */
  --toc-sticky-top: calc(var(--ifm-navbar-height) + 76px); /* 56px + 76px = 132px */
  --max-content-width: min(1896px, calc(100vw - 64px)); /* Allow docs layout to breathe on wide screens while keeping a 32px gutter */
  --ifm-container-width: var(--max-content-width);
  --ifm-container-width-xl: var(--max-content-width);
  --ifm-container-width-lg: var(--max-content-width);
  --sidebar-rail-offset: 18px;
  --sidebar-rail-step: 22px;
  --sidebar-highlight: rgba(0, 163, 180, 0.14);
  --sidebar-highlight-hover: rgba(0, 163, 180, 0.22);

  /* Spacing */
  --page-gutter: 16px; /* Fixed minimal padding for maximum chart space */
  --ifm-spacing-horizontal: var(--page-gutter);
  --ifm-spacing-vertical: 16px;

  /* Transparent navbar backgrounds - derived from --navbar-rgb */
  --navbar-bg-transparent: rgba(var(--navbar-rgb), 0.85);
  --navbar-tabs-bg-transparent: rgba(var(--navbar-rgb), 0.85);
}

[data-theme='dark'] {
  --ifm-background-color: #242526;
  --ifm-background-surface-color: #242526;
  --ifm-navbar-solid-color: #242526; /* Navbar base color for dark mode */
  --navbar-rgb: 36, 37, 38; /* RGB values for navbar color (dark mode) */
  --ifm-card-background-color: var(--ifm-background-surface-color);
  --ifm-navbar-background-color: var(--ifm-background-surface-color);
  --ifm-footer-background-color: var(--ifm-background-surface-color);
  --ifm-background-color-secondary: var(--ifm-background-surface-color);
  --ifm-background-color-tertiary: var(--ifm-background-surface-color);
  --ifm-menu-color-background: var(--ifm-background-surface-color);
  --ifm-menu-color-background-active: var(--ifm-background-surface-color);
  --ifm-menu-color-background-hover: rgba(255, 255, 255, 0.05);
  --ifm-sidebar-background: var(--ifm-background-surface-color);
  --ifm-table-stripe-background: var(--ifm-background-surface-color);
  --ifm-tabs-color-background: var(--ifm-background-surface-color);
  --ifm-tabs-color-background-active: var(--ifm-background-surface-color);
  --ifm-code-background: #070b11;
  --ifm-pre-background: #070b11;
  --ifm-font-color-base: #E6E9EE;
  --ifm-color-secondary: #97A3B4;
  --sidebar-link-color: #9aa7b8;
  --sidebar-content-gap: 60px;
  --ifm-toc-border-color: #1F2A35;
  --ifm-hr-background-color: #1F2A35;

  /* Keep teal accent same in dark mode */
  --accent: #00A3B4;
  --accent-hover: #14BCCD;

  /* Transparent navbar backgrounds - derived from --navbar-rgb */
  --navbar-bg-transparent: rgba(var(--navbar-rgb), 0.85);
  --navbar-tabs-bg-transparent: rgba(var(--navbar-rgb), 0.85);
  --accent-transparent: rgba(0, 163, 180, 0.2);
  --ifm-color-primary: #00A3B4;
  --ifm-color-primary-dark: #009099;
  --ifm-color-primary-darker: #00858c;
  --ifm-color-primary-darkest: #006d73;
  --ifm-color-primary-light: #14BCCD;
  --ifm-color-primary-lighter: #28c6d7;
  --ifm-color-primary-lightest: #51d4e2;
}

html[data-theme='dark'],
html[data-theme='dark'] body {
  background-color: var(--ifm-background-surface-color);
}

html[data-theme='dark'] .main-wrapper,
html[data-theme='dark'] .theme-doc-sidebar-container,
html[data-theme='dark'] .theme-doc-sidebar-container .menu,
html[data-theme='dark'] .theme-doc-toc-desktop,
html[data-theme='dark'] .table-of-contents,
html[data-theme='dark'] .theme-doc-breadcrumbs,
html[data-theme='dark'] .theme-doc-footer {
  background-color: var(--ifm-background-surface-color);
}

html[data-theme='dark'] .menu__link::after,
html[data-theme='dark'] .menu__link--sublist::before {
  background-color: rgba(255, 255, 255, 0.05);
}

/* Remove forced background on plotly charts - let plotly theme handle it */

/* ========================
   Global styles
   ======================== */

html {
  scroll-padding-top: calc(var(--ifm-navbar-height) + 20px);
  scroll-behavior: smooth;
  overflow-x: hidden;
  overflow-y: auto;
}

body {
  font-family: var(--ifm-font-family-base);
  padding-bottom: 72px;
  overflow-x: hidden;
  overflow-y: auto;
}

/* ========================
   Navbar (Header) - 56px
   ======================== */

.navbar {
  height: var(--ifm-navbar-height);
  background: var(--navbar-bg-transparent); /* Semi-transparent background */
  backdrop-filter: blur(12px) saturate(180%);
  -webkit-backdrop-filter: blur(12px) saturate(180%);
  border-bottom: none; /* No separator between header and tabs */
  box-shadow: none;
  padding: 0; /* Remove direct padding */
  position: sticky;
  top: 0;
  z-index: 100;
  display: flex;
  justify-content: center;
  overflow-x: hidden;
  overflow-y: visible; /* Changed from hidden to visible to allow search dropdown to show */
}

/* ========================
   Search Bar
   ======================== */

/* Fix search dropdown z-index to appear above navbar and tabs */
.navbar__search {
  position: relative !important;
  z-index: 101 !important;
}

/* Match search bar font size to "Last full day available" (13px) */
.navbar__search-input {
  font-size: 13px !important;
  height: 32px !important;
  padding: 6px 12px 6px 2.25rem !important; /* Left padding to clear magnifier icon */
  padding-left: 2.25rem !important; /* Ensure text doesn't hide behind search icon */
}

/* Search bar container positioning */
[class*="searchBarContainer"] {
  position: relative !important;
  z-index: 101 !important;
}

/* Search bar wrapper - must allow overflow */
[class*="searchBar"] {
  position: relative !important;
  overflow: visible !important;
}

/* Search container positioning */
.navbar__search,
[class*="navbarSearchContainer"] {
  position: relative !important;
  z-index: 9999 !important;
}

/* Match search results font size to navbar timestamp */
[class*="searchBar"] [class*="dropdownMenu"] [class*="suggestion"],
.aa-suggestion {
  font-size: 13px !important;
  height: 48px !important;
  min-height: 48px !important;
}

[class*="hitTitle"] {
  font-size: 13px !important;
}

[class*="hitPath"] {
  font-size: 11px !important;
}

[class*="hitWrapper"] {
  font-size: 13px !important;
}

/* Clear button adjustment for smaller search bar */
[class*="searchBarContainer"] [class*="searchClearButton"] {
  right: 8px !important;
  font-size: 13px !important;
}

/* Search hint adjustment */
[class*="searchHintContainer"] {
  font-size: 11px !important;
}

/* Icon sizing for smaller search results */
[class*="hitIcon"] {
  width: 16px !important;
  height: 16px !important;
}

[class*="hitTree"] > svg {
  height: 48px !important;
}

.navbar__inner {
  width: 100%;
  max-width: var(--max-content-width);
  margin: 0 auto;
  padding: 0 var(--page-gutter);
  overflow: visible !important;
}

/* Ensure navbar items container allows overflow for search dropdown */
.navbar__items {
  overflow: visible !important;
}

.navbar__items--right {
  overflow: visible !important;
}

.navbar__logo {
  height: 32px;
  margin-right: 12px;
}

.navbar__logo img {
  height: 52px;
  width: auto;
}

.navbar__title {
  font-weight: 700;
  font-size: 15px;
  letter-spacing: -0.01em;
  color: var(--ifm-font-color-base);
}

.navbar__item {
  padding: 0 12px;
}

.navbar__link {
  font-weight: 400; /* Changed from 600 to normal weight */
  font-size: 14px;
  letter-spacing: 0.01em;
  color: var(--ifm-color-secondary);
  transition: color 120ms ease;
}

.navbar__link:hover,
.navbar__link--active {
  color: var(--ifm-font-color-base);
}

.navbar__link--active {
  font-weight: 500; /* Slightly heavier for active tab */
  border-bottom: 2px solid var(--accent);
}

/* ========================
   Sidebar - 290px
   ======================== */

   .theme-doc-sidebar-container {
    background: var(--ifm-background-surface-color);
    width: var(--doc-sidebar-width) !important;
    padding: 28px var(--ifm-spacing-horizontal) 32px calc(var(--sidebar-rail-offset) + 16px);
    box-sizing: border-box;
    position: relative;
    border-right: none !important;
    border-left: none !important;
    --rail-position: var(--sidebar-rail-offset);
  }

.theme-doc-sidebar-container .menu {
  padding: 0;
  margin: 0;
}

.theme-doc-sidebar-container .theme-doc-sidebar-menu {
  margin-top: 0;
  position: relative;
  overflow: visible;
}

.theme-doc-sidebar-container .menu__list {
  margin: 0;
  padding-left: 0;
}

.theme-doc-sidebar-container .theme-doc-sidebar-menu::before {
  content: "";
  position: absolute;
  top: 4px;
  bottom: 4px;
  left: var(--rail-position, var(--sidebar-rail-offset));
  width: 1px;
  background: var(--ifm-toc-border-color);
  opacity: 0.6;
  pointer-events: none;
}

@media (max-width: 996px) {
  .theme-doc-sidebar-container .theme-doc-sidebar-menu::before {
    display: none;
  }
}

.menu__link,
.menu__caret {
  position: relative;
  border-radius: 0;
  padding: 8px 16px 8px calc(var(--rail-position, var(--sidebar-rail-offset)) + 14px);
  color: var(--sidebar-link-color);
  font-size: 14px;
  font-weight: 400;
  transition: color 120ms ease;
  background: transparent !important;
  z-index: 0;
}

.menu__link:hover,
.menu__caret:hover {
  color: var(--sidebar-link-color);
  text-decoration: none;
  background: transparent !important;
}

.menu__link--active:not(.menu__link--sublist) {
  color: var(--accent);
  font-weight: 500;
}

/* Active sidebar item icon color */
.menu__link--active:not(.menu__link--sublist) svg {
  color: var(--accent);
}

.menu__link--active:not(.menu__link--sublist)::before {
  content: "";
  position: absolute;
  top: 3px;
  bottom: 3px;
  left: calc(var(--rail-position, var(--sidebar-rail-offset)) - 1px);
  width: 3px;
  border-radius: 2px;
  background: var(--accent);
  z-index: 1;
}

.menu__link:not(.menu__link--sublist)::after {
  content: "";
  position: absolute;
  top: 2px;
  bottom: 2px;
  left: calc(var(--rail-position, var(--sidebar-rail-offset)) + 1px);
  right: 12px;
  background: transparent;
  border-radius: 0 12px 12px 0;
  opacity: 0;
  transition: background 140ms ease, opacity 140ms ease;
  pointer-events: none;
  z-index: -1;
}

.menu__link:not(.menu__link--sublist):hover::after {
  background: var(--ifm-menu-color-background-hover);
  opacity: 1;
}

.menu__link--active:not(.menu__link--sublist):hover::after {
  background: var(--sidebar-highlight-hover);
  opacity: 1;
}

.menu__link--sublist::before {
  content: "";
  position: absolute;
  top: 2px;
  bottom: 2px;
  left: calc(var(--rail-position, var(--sidebar-rail-offset)) + 1px);
  right: 12px;
  background: transparent;
  border-radius: 0 12px 12px 0;
  opacity: 0;
  transition: background 140ms ease, opacity 140ms ease;
  pointer-events: none;
  z-index: -1;
}

.menu__link--sublist:hover::before {
  background: var(--ifm-menu-color-background-hover);
  opacity: 1;
}

.theme-doc-sidebar-container .menu__link--sublist,
.theme-doc-sidebar-container .menu__link--sublist-caret {
  padding-right: 20px;
}

.theme-doc-sidebar-container .menu__list .menu__list .menu__link,
.theme-doc-sidebar-container .menu__list .menu__list .menu__caret {
  padding-left: calc(var(--rail-position, var(--sidebar-rail-offset)) + 16px);
}

.theme-doc-sidebar-container .menu__link--sublist-caret::after {
  margin-left: 10px;
  margin-right: 6px;
}

.theme-doc-sidebar-container .menu__list .menu__list .linkIconPlaceholder,
.theme-doc-sidebar-container .menu__list .menu__list .categoryIconPlaceholder {
  width: 0;
}

.theme-doc-sidebar-container .menu__list-item-collapsible,
.theme-doc-sidebar-container .menu__list-item-collapsible:hover,
.theme-doc-sidebar-container .menu__list-item-collapsible--active {
  background: transparent !important;
  border-radius: 0;
}

.theme-doc-sidebar-container .sidebar-heading {
  display: block;
  font-size: 11px;
  letter-spacing: 0.18em;
  font-weight: 600;
  color: var(--ifm-font-color-base);
  margin: 20px 0 12px;
  padding-left: calc(var(--sidebar-rail-offset) + 16px);
}

.theme-doc-sidebar-container .sidebar-heading + .menu__list {
  margin-top: 4px;
}

@media (min-width: 997px) {
  .theme-doc-sidebar-container {
    margin-left: -40px;
  }

  /* Fix sidebar sticky position to stay below navbar */
  [class*="sidebarViewport"] {
    position: sticky !important;
    top: var(--sidebar-sticky-top) !important;
    bottom: auto !important;
    max-height: calc(100vh - var(--sidebar-sticky-top)) !important;
  }

  /* Fix TOC sticky position to stay below navbar */
  [class*="tocCollapsible"] {
    top: var(--toc-sticky-top) !important;
    max-height: calc(100vh - var(--toc-sticky-top)) !important;
    align-self: flex-start !important;
  }

  .theme-doc-toc-desktop {
    top: var(--toc-sticky-top) !important;
    align-self: flex-start !important;
  }

  [class*="tableOfContents"] {
    top: var(--toc-sticky-top) !important;
  }
}

.menu__list-item-collapsible {
  border-radius: 0;
}

/* Nested navigation */
.theme-doc-sidebar-container .menu__list .menu__list {
  --rail-position: calc(var(--rail-position, var(--sidebar-rail-offset)) + var(--sidebar-rail-step));
  position: relative;
  margin: 0 0 0 var(--sidebar-rail-step);
padding: 0;
}
.theme-doc-sidebar-container .menu__list .menu__list::before {
  content: "";
  position: absolute;
  top: 4px;
  bottom: 4px;
  left: var(--rail-position, var(--sidebar-rail-offset));
  width: 1px;
  background: var(--ifm-toc-border-color);
  opacity: 0.6;
  pointer-events: none;
}
/* ========================
   Main content area
   ======================== */
.main-wrapper {
  background: var(--ifm-background-color);
  padding-bottom: 72px;
}
.main-wrapper [class*="docsWrapper"] {
  display: flex;
  justify-content: center;
}
.main-wrapper [class*="docRoot"] {
  display: flex;
  width: 100%;
  max-width: var(--max-content-width);
  margin: 0 auto;
  padding: 0 var(--page-gutter);
}
main[class*="docMainContainer"] {
  flex: 1 1 auto;
  margin-left: var(--sidebar-content-gap);
}
main[class*="docMainContainer"] > .container {
  margin: 0;
  max-width: none;
  padding: 0;
}
main[class*="docMainContainer"] > .container > .row {
  margin-left: 0;
  margin-right: 0;
}
main[class*="docMainContainer"] > .container > .row > .col {
  padding-left: var(--ifm-spacing-horizontal);
  padding-right: var(--ifm-spacing-horizontal);
}
main[class*="docMainContainer"] > .container > .row > .col:first-child {
  padding-left: 0;
}
main[class*="docMainContainer"] > .container > .row > .col:last-child {
  padding-right: 0;
}
@media (min-width: 997px) {
  main[class*="docMainContainer"] > .container > .row > .col.col--3 {
    flex: 0 0 auto;
    width: auto;
    min-width: clamp(240px, 16vw, 300px);
    max-width: clamp(260px, 18vw, 320px);
    margin-left: 32px;
  }
  main[class*="docMainContainer"] > .container > .row > .col.col--3 [class*="tableOfContents_"] {
    width: 100%;
  }
}
article {
  background: var(--ifm-background-surface-color);
  border: none;
  border-radius: var(--ifm-global-radius);
  box-shadow: 0 0px 0px rgba(12, 30, 43, 0.06);
  padding: -20px 24px; /* Reduced horizontal padding from 40px to 24px for more chart space */
  margin: 24px 0; /* Removed horizontal margin for more width */
}
[data-theme='dark'] article {
  box-shadow: 0 0px 0px rgba(0, 0, 0, 0.35);
}
@media (max-width: 996px) {
  article {
    padding: 24px;
    margin: 16px;
  }
  main[class*="docMainContainer"] {
    margin-left: 0;
  }
}
/* Typography */
.markdown h1 {
  font-size: var(--ifm-h1-font-size);
  letter-spacing: -0.02em;
  font-weight: 700;
  margin-bottom: 20px;
}
.markdown h2 {
  font-size: var(--ifm-h2-font-size);
  font-weight: 600;
  margin-top: 36px;
  margin-bottom: 16px;
}
.markdown h3 {
  font-size: var(--ifm-h3-font-size);
  font-weight: 600;
  margin-top: 28px;
  margin-bottom: 12px;
}
.markdown p {
  margin-bottom: 16px;
}
.markdown small,
.caption,
figcaption {
  font-size: 13px;
  color: var(--ifm-color-secondary);
}
/* ========================
   Plotly chart containers
   ======================== */
.plotly-card,
figure,
.chart {
  background: var(--ifm-background-surface-color);
  border: 1px solid var(--ifm-toc-border-color);
  border-radius: var(--ifm-global-radius);
  padding: 16px;
  margin: 20px 0;
}

/* Plotly spike/crosshair lines - override default white color */
.spikeline {
  stroke: #94a3b8 !important;
  stroke-opacity: 0.6 !important;
  stroke-dasharray: 2, 2 !important;
}

[data-theme='dark'] .spikeline {
  stroke: #475569 !important;
  stroke-opacity: 0.8 !important;
}

/* ========================
   Code blocks
   ======================== */
code {
  font-family: var(--ifm-font-family-monospace);
  border-radius: var(--ifm-code-border-radius);
}
.prism-code {
  border-radius: var(--ifm-code-border-radius);
}
/* ========================
   Tables
   ======================== */
table {
  border: 1px solid var(--ifm-toc-border-color);
  border-radius: var(--ifm-global-radius);
}
table thead tr {
  background: var(--ifm-background-color);
}
table th,
table td {
  border-color: var(--ifm-toc-border-color);
  padding: 10px;
}
/* ========================
   Links and buttons
   ======================== */
a {
  color: var(--accent);
  transition: color 120ms ease;
}
a:hover {
  color: var(--accent-hover);
  text-decoration: underline;
}
.button {
  border-radius: 8px;
  transition: background 120ms ease, transform 120ms ease;
}
.button--primary {
  background-color: var(--accent);
  border-color: var(--accent);
}
.button--primary:hover {
  background-color: var(--accent-hover);
  transform: translateY(-1px);
}
/* ========================
   Form controls
   ======================== */
input,
select,
textarea {
  font-family: inherit;
  padding: 8px 10px;
  border-radius: 8px;
  border: 1px solid var(--ifm-toc-border-color);
  background: var(--ifm-background-surface-color);
  color: var(--ifm-font-color-base);
  transition: border-color 120ms ease, box-shadow 120ms ease;
}
input:focus,
select:focus,
textarea:focus {
  border-color: rgba(0, 163, 180, 0.55);
  box-shadow: 0 0 0 3px rgba(0, 163, 180, 0.15);
  outline: none;
}
/* ========================
   Admonitions
   ======================== */
.admonition {
  border-left: 3px solid var(--accent);
  border-radius: 8px;
}
/* ========================
   Footer
   ======================== */
.footer {
  display: none; /* Footer removed - GitHub link moved to navbar */
}
.theme-doc-footer {
  margin-bottom: 32px;
}
/* ========================
   Social footer
   ======================== */
.social-footer {
  position: fixed;
  left: 0;
  bottom: 0;
  width: 100%;
  background: var(--navbar-bg-transparent); /* Semi-transparent background for glassmorphism effect */
  backdrop-filter: blur(12px) saturate(180%);
  -webkit-backdrop-filter: blur(12px) saturate(180%);
  border-top: 1px solid var(--ifm-toc-border-color);
  z-index: 120;
}
.social-footer__content {
  max-width: var(--max-content-width);
  margin: 0 auto;
  padding: 10px 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 24px;
  flex-wrap: wrap;
  font-size: 13px;
  color: var(--ifm-color-secondary);
}
.social-footer__link,
.social-footer__donate {
  display: inline-flex;
  align-items: center;
  gap: 8px;
}
.social-footer__link {
  color: inherit;
  text-decoration: none;
  font-weight: 500;
  transition: color 120ms ease;
}
.social-footer__link:hover {
  color: var(--accent);
}
.social-footer__donate {
  font-weight: 600;
}
/* ========================
   Responsive adjustments
   ======================== */
/* Large tablets and small desktops */
@media (max-width: 1200px) {
  /* Dynamic padding/margin formulas handle responsive behavior automatically */
}
@media (max-width: 996px) {
  :root {
    --doc-sidebar-width: 240px !important;
  }
  /* Dynamic padding/margin formulas handle responsive behavior automatically */
}
@media (max-width: 768px) {
  :root {
    --ifm-navbar-height: 48px;
    /* Recalculate sticky offsets for mobile navbar */
    --sidebar-sticky-top: calc(var(--ifm-navbar-height) + 34px); /* 48px + 34px = 82px */
    --toc-sticky-top: calc(var(--ifm-navbar-height) + 76px); /* 48px + 76px = 124px */
  }
  .navbar {
    height: 48px;
  }
  body {
    padding-bottom: 96px;
  }
  .main-wrapper {
    padding-bottom: 96px;
  }
  .social-footer__content {
    padding: 14px 18px;
    gap: 16px;
  }
  /* Dynamic padding/margin formulas handle responsive behavior automatically */
}
/* ========================
   Utilities
   ======================== */
.muted {
  color: var(--ifm-color-secondary);
}
.fullwidth {
  width: 100%;
}

.usage-summary-grid {
  display: grid;
  gap: 16px;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  margin: 32px 0;
}
.usage-summary-card {
  padding: 24px;
  border-radius: var(--ifm-global-radius);
  border: 1px solid var(--ifm-color-emphasis-200);
  background: var(--ifm-background-surface-color);
  box-shadow: 0 4px 16px rgba(15, 20, 27, 0.05);
}
.usage-summary-card h3 {
  margin: 0 0 8px;
  font-size: 1rem;
  color: var(--ifm-color-emphasis-700);
}
.usage-summary-card p {
  margin: 0;
  font-size: 1.75rem;
  font-weight: 600;
  color: var(--ifm-color-primary);
}
.usage-top-table {
  width: 100%;
  border-collapse: collapse;
}
.usage-top-table thead th {
  font-size: 0.85rem;
  text-transform: uppercase;
  letter-spacing: 0.03em;
  padding-bottom: 8px;
  border-bottom: 1px solid var(--ifm-color-emphasis-200);
}
.usage-top-table tbody td {
  padding: 12px 0;
  border-bottom: 1px solid var(--ifm-color-emphasis-100);
}
.staking-top-grid {
  display: grid;
  gap: 24px;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  margin-bottom: 32px;
}
.staking-top-table {
  background: var(--ifm-background-surface-color);
  border-radius: var(--ifm-global-radius);
  border: 1px solid var(--ifm-color-emphasis-200);
  padding: 24px;
}
.staking-top-table h4 {
  margin-top: 0;
}
.staking-top-table table,
.wallet-transactions-table table {
  display: table;
  width: 100%;
  min-width: 100%;
  border-collapse: collapse;
  font-size: 14px;
}
.staking-top-table thead th,
.wallet-transactions-table thead th {
  text-align: left;
  padding: 12px 8px;
  font-weight: 600;
  font-size: 14px;
  border-bottom: 2px solid var(--ifm-toc-border-color);
}
.staking-top-table tbody td,
.wallet-transactions-table tbody td {
  padding: 12px 8px;
  border-bottom: 1px solid var(--ifm-toc-border-color);
}
.staking-top-table tbody tr,
.wallet-transactions-table tbody tr {
  transition: background 120ms ease;
}
.staking-top-empty {
  color: var(--ifm-color-emphasis-600);
  margin: 0;
}

/* ========================
   Blog Visual Consistency
   ========================

   These scoped rules ensure blog pages match Intro/Analysis (docs) sections
   exactly in visual appearance while maintaining their chronological structure.

   All rules are scoped under .blog-layout wrapper to prevent affecting docs.
*/

.blog-layout {
  /* Blog already inherits most styling via shared classes:
     - .theme-doc-sidebar-container (sidebar)
     - article (content card)
     - .markdown (typography)

     These scoped rules ensure perfect visual consistency and future-proof
     against Docusaurus updates that might affect one plugin but not the other.
  */
}

/* ========================
   Blog Sidebar Consistency
   ======================== */

@media (min-width: 997px) {
  /* Target blog pages using Docusaurus's built-in wrapper classes */
  [class*="blogPages"] [class*="docSidebarContainer"],
  [class*="blogPages"] .theme-doc-sidebar-container,
  .blog-wrapper [class*="docSidebarContainer"],
  .blog-wrapper .theme-doc-sidebar-container {
    /* Match the negative margin that pulls sidebar beneath navbar */
    margin-top: calc(-1 * var(--ifm-navbar-height)) !important;
    /* Force width to match Analysis sidebar */
    width: 330px !important;
    flex: 0 0 330px !important;
  }
}

.blog-layout .theme-doc-sidebar-container {
  /* Explicitly inherit all doc sidebar styling */
  background: var(--ifm-background-surface-color);
  width: var(--doc-sidebar-width) !important;
  padding: 36px var(--ifm-spacing-horizontal) 32px calc(var(--sidebar-rail-offset) + 32px);
  box-sizing: border-box;
  position: relative;
  border-right: none !important;
  border-left: none !important;
}

.blog-layout .menu__link,
.blog-layout .menu__caret {
  /* Ensure blog sidebar links match doc sidebar links exactly */
  position: relative;
  border-radius: 0;
  padding: 8px 16px 8px calc(var(--rail-position, var(--sidebar-rail-offset)) + 14px);
  color: var(--sidebar-link-color);
  font-size: 14px;
  font-weight: 400;
  transition: color 120ms ease;
  background: transparent !important;
  z-index: 0;
}

.blog-layout .menu__link:hover,
.blog-layout .menu__caret:hover {
  color: var(--sidebar-link-color);
  text-decoration: none;
  background: transparent !important;
}

.blog-layout .menu__link--active {
  color: var(--accent);
  font-weight: 500;
}

/* Active sidebar item icon color */
.blog-layout .menu__link--active svg {
  color: var(--accent);
}

.blog-layout .menu__link--active::before {
  /* Teal active indicator bar (matches docs) */
  content: "";
  position: absolute;
  top: 3px;
  bottom: 3px;
  left: calc(var(--rail-position, var(--sidebar-rail-offset)) - 1px);
  width: 3px;
  border-radius: 2px;
  background: var(--accent);
  z-index: 1;
}

.blog-layout .menu__link::after {
  /* Hover highlight background (matches docs) */
  content: "";
  position: absolute;
  top: 2px;
  bottom: 2px;
  left: calc(var(--rail-position, var(--sidebar-rail-offset)) + 1px);
  right: 12px;
  background: transparent;
  border-radius: 0 12px 12px 0;
  opacity: 0;
  transition: background 140ms ease, opacity 140ms ease;
  pointer-events: none;
  z-index: -1;
}

.blog-layout .menu__link:hover::after {
  background: var(--ifm-menu-color-background-hover);
  opacity: 1;
}

.blog-layout .menu__link--active:hover::after {
  background: var(--sidebar-highlight-hover);
  opacity: 1;
}

.blog-layout .sidebar-heading {
  /* Sidebar section headings (e.g., "Recent posts") */
  display: block;
  font-size: 11px;
  letter-spacing: 0.18em;
  font-weight: 600;
  color: var(--ifm-font-color-base);
  margin: 20px 0 12px;
  padding-left: calc(var(--sidebar-rail-offset) + 16px);
}

/* ========================
   Blog Article Consistency
   ======================== */

.blog-layout article {
  /* Ensure blog articles match doc article cards exactly */
  background: var(--ifm-background-surface-color);
  border: none;
  border-radius: var(--ifm-global-radius);
  box-shadow: 0 0px 0px rgba(12, 30, 43, 0.06);
  padding: -20px 24px;
  margin: 24px 0;
}

[data-theme='dark'] .blog-layout article {
  box-shadow: 0 0px 0px rgba(0, 0, 0, 0.35);
}

/* ========================
   Blog Typography Consistency
   ======================== */

.blog-layout .markdown h1 {
  font-size: var(--ifm-h1-font-size);
  letter-spacing: -0.02em;
  font-weight: 700;
  margin-bottom: 20px;
}

.blog-layout .markdown h2 {
  font-size: var(--ifm-h2-font-size);
  font-weight: 600;
  margin-top: 36px;
  margin-bottom: 16px;
}

.blog-layout .markdown h3 {
  font-size: var(--ifm-h3-font-size);
  font-weight: 600;
  margin-top: 28px;
  margin-bottom: 12px;
}

.blog-layout .markdown p {
  margin-bottom: 16px;
}

/* ========================
   Blog Container Layout
   ======================== */

/* Shift blog main content to the right to make room for sidebar */
@media (min-width: 997px) {
  /* Target the blog content column (col--7) */
  /* Small gap between sidebar (320px) and content */
  [class*="blogPages"] .col--7,
  .blog-wrapper .col--7 {
    margin-left: 22px !important;
  }
}

@media (max-width: 996px) {
  [class*="blogPages"] .col--7,
  .blog-wrapper .col--7 {
    margin-left: 0 !important;
  }
}

.blog-layout .container {
  /* Ensure blog container spacing matches docs */
  max-width: var(--ifm-container-width);
  margin-left: auto;
  margin-right: auto;
  padding-left: var(--ifm-spacing-horizontal);
  padding-right: var(--ifm-spacing-horizontal);
}

.blog-layout .col {
  /* Match column padding to docs */
  padding-left: var(--ifm-spacing-horizontal);
  padding-right: var(--ifm-spacing-horizontal);
}

/* ========================
   Blog TOC Consistency
   ======================== */

.blog-layout [class*="tableOfContents"] {
  /* Ensure blog TOC matches doc TOC styling */
  font-size: 14px;
  line-height: 1.6;
}

.blog-layout [class*="tableOfContents"] a {
  color: var(--ifm-font-color-base);
  transition: color 120ms ease;
}

.blog-layout [class*="tableOfContents"] a:hover {
  color: var(--accent);
  text-decoration: none;
}

.blog-layout [class*="tableOfContents"] .table-of-contents__link--active {
  color: var(--accent);
  font-weight: 500;
}

/* ========================
   Blog Responsive Behavior
   ======================== */

@media (max-width: 996px) {
  .blog-layout article {
    padding: 24px;
    margin: 16px;
  }

  .blog-layout .theme-doc-sidebar-container {
    /* Mobile sidebar adjustments */
    padding-left: var(--ifm-spacing-horizontal);
  }
}

